# Snake Game - Version 2 계획서

## 목표
Version 1의 기본 기능에 점수 시스템, UI 개선, 게임 난이도 조절을 추가합니다.

## Version 1에서 추가/개선되는 기능

### 1. 점수 시스템
- **점수 표시**: 화면 상단에 현재 점수 표시
- **점수 계산**:
  - 먹이 1개 먹을 때마다: +10점
  - 보너스: 연속으로 빠르게 먹으면 콤보 점수 (+5점 추가)
- **최고 점수**: 최고 기록 저장 및 표시 (파일로 저장)

### 2. 속도 조절 시스템
- **동적 속도**: 먹이를 먹을수록 게임 속도가 점진적으로 증가
  - 초기 속도: 10 FPS
  - 먹이 5개마다: 속도 +1 FPS
  - 최대 속도: 20 FPS
- **속도 표시**: 현재 속도를 화면에 표시

### 3. UI 개선
- **게임 정보 패널**: 화면 상단 40픽셀 패널 추가
  - 현재 점수
  - 최고 점수
  - 현재 뱀 길이
  - 현재 속도
- **색상 테마**:
  - 뱀 머리: 밝은 녹색 (#00FF00)
  - 뱀 몸통: 어두운 녹색 (#008800)
  - 먹이: 빨간색 (#FF0000) - 펄스 효과
- **그리드 라인**: 옅은 회색으로 그리드 표시 (선택적)

### 4. 게임 제어 기능
- **일시정지**: SPACE 키로 일시정지/재개
- **재시작**: 게임 오버 후 R 키로 재시작
- **종료**: ESC 키로 언제든지 종료

### 5. 사운드 효과 (선택적)
- 먹이 먹을 때 효과음
- 게임 오버 효과음
- 배경 음악 (ON/OFF 가능)

### 6. 게임 오버 화면 개선
- 최종 점수 표시
- 최고 점수와 비교
- 재시작/종료 옵션 명확히 표시
- 통계 정보 (플레이 시간, 먹은 먹이 개수)

## 기술 스택
- **언어**: Python 3.8+
- **라이브러리**: 
  - pygame 2.0+
  - json (최고 점수 저장)

## 파일 구조 (추가/수정)
```
snake/
├── main.py              # 게임 실행 파일
├── snake.py             # Snake 클래스
├── food.py              # Food 클래스
├── game.py              # Game 로직 관리
├── constants.py         # 상수 정의
├── ui.py                # UI 렌더링 (새로 추가)
├── score_manager.py     # 점수 관리 (새로 추가)
├── highscore.json       # 최고 점수 저장 (자동 생성)
└── assets/              # 리소스 폴더 (선택적)
    └── sounds/          # 사운드 파일
```

## 구현 순서
1. UI 클래스 추가 (정보 패널, 게임 오버 화면)
2. ScoreManager 클래스 구현 (점수 계산, 저장/로드)
3. Game 클래스에 속도 조절 로직 추가
4. 일시정지 및 재시작 기능 구현
5. 콤보 시스템 구현
6. 사운드 효과 추가 (선택적)
7. 화면 및 색상 개선

## 테스트 계획

### 1. 단위 테스트 (Unit Test)
- **ScoreManager 클래스**
  - [ ] 점수 계산 정확성
  - [ ] 콤보 점수 계산
  - [ ] 최고 점수 저장 및 로드
  - [ ] 파일이 없을 때 기본값 처리

- **UI 클래스**
  - [ ] 정보 패널 렌더링
  - [ ] 게임 오버 화면 렌더링
  - [ ] 텍스트 위치 및 크기 확인

### 2. 통합 테스트 (Integration Test)
- [ ] 먹이를 먹을 때 점수 증가 확인
- [ ] 5개 먹을 때마다 속도 증가 확인
- [ ] 최고 점수 갱신 및 저장 확인
- [ ] 일시정지 후 재개 시 게임 상태 유지
- [ ] 재시작 시 초기 상태로 리셋
- [ ] 콤보 시스템 작동 확인

### 3. 수동 테스트 (Manual Test)
- [ ] 정보 패널이 올바르게 표시되는지 확인
- [ ] 먹이를 연속으로 먹어 콤보 점수 확인
- [ ] 속도가 증가하는 것을 체감할 수 있는지 확인
- [ ] SPACE로 일시정지/재개 테스트
- [ ] ESC로 게임 종료 테스트
- [ ] 게임 오버 후 R로 재시작 테스트
- [ ] 최고 점수를 갱신하고 재실행 시 유지되는지 확인
- [ ] 사운드 효과 정상 재생 확인 (구현 시)

### 4. 성능 테스트
- [ ] 속도가 최대일 때 부드러운 동작 확인
- [ ] 뱀이 매우 길어져도 렌더링 지연 없음
- [ ] UI 업데이트가 게임 성능에 영향 없음

### 5. 데이터 무결성 테스트
- [ ] highscore.json 파일이 손상되었을 때 처리
- [ ] 파일 권한이 없을 때 예외 처리
- [ ] 비정상 종료 후 재실행 시 데이터 복구

### 6. UI/UX 테스트
- [ ] 모든 텍스트가 읽기 쉬운지 확인
- [ ] 색상 대비가 충분한지 확인
- [ ] 게임 오버 화면에서 다음 행동이 명확한지 확인
- [ ] 정보 패널이 게임 플레이를 방해하지 않는지 확인

## 성공 기준
- Version 1의 모든 기능 유지
- 점수 시스템이 정확하게 작동
- 속도 증가가 체감되며 게임이 더 도전적이 됨
- UI가 직관적이고 정보가 명확함
- 최고 점수가 게임 종료 후에도 유지됨
- 모든 테스트 케이스 통과

## 예상 소요 시간
- 구현: 6-8시간
- 테스트 및 디버깅: 3-4시간
- UI/UX 개선: 2-3시간
- **총 예상 시간**: 11-15시간
