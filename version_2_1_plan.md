# Snake Game - Version 2.1 계획서

## Version 2.0 대비 개선사항

### 1. UI 개선: Sound/Music 상태 표시 ✅
**목표**: 사용자가 현재 사운드 및 음악 상태를 쉽게 파악할 수 있도록 함

**구현 내용**:
- 상단 정보 패널에 Sound/Music ON/OFF 상태 표시 추가
- 색상 코드를 통한 직관적 표시:
  - **GREEN**: ON 상태
  - **RED**: OFF 상태
- 표시 포맷:
  - `S:ON` / `S:OFF` - 효과음 상태
  - `M:ON` / `M:OFF` - 배경음악 상태
- 위치: 화면 우측 상단 (Speed 옆)

**변경 파일**:
- `ui.py`: `draw_info_panel()` 메서드에 `sound_on`, `music_on` 파라미터 추가
- `game.py`: `draw()` 메서드에서 UI 패널 호출 시 sound/music 상태 전달

**사용자 경험 개선**:
- S 키나 M 키를 눌렀을 때 즉시 상태 변화를 시각적으로 확인 가능
- 게임 중에도 현재 사운드 설정을 한눈에 파악 가능

### 2. 게임플레이 개선: Combo 시각 효과 ✅
**목표**: Combo 활성화 시 시각적 피드백을 추가하여 게임의 재미와 몰입도 향상

**기존 문제점**:
- Version 2.0에서 Combo 시스템(10초 내 연속 먹이 섭취)은 구현되어 있었음
- 점수 보너스(+5점)는 적용되었으나, 시각적 피드백이 없어 사용자가 인지하기 어려움

**구현 내용**:
- **뱀 반짝이는 효과 (Pulsing Effect)**:
  - Combo 활성화 시 뱀 전체가 밝기가 변하며 반짝임
  - 0.3초 주기로 밝기 50% ~ 130% 사이를 진동 (더 강한 효과)
  - 노란색 톤이 추가되어 더욱 눈에 띔
  - 머리와 몸통 모두에 효과 적용
- **상단 패널 COMBO 표시**:
  - 패널 중앙에 "COMBO!" 텍스트 표시
  - 주황색(#FF9500)으로 0.3초 주기로 반짝임
  - 중간 크기 폰트(font_medium)로 눈에 잘 띄게 표시
- **콤보 자동 해제**:
  - 10초가 지나면 다음 먹이를 먹기 전에도 콤보가 자동으로 해제됨
  - `is_combo_active()` 메서드에서 실시간으로 시간 초과 여부를 체크
  - 시각 효과가 즉시 사라져 사용자에게 명확한 피드백 제공
- **구현 방식**:
  - `pygame.time.get_ticks()`를 이용한 시간 기반 펄스 값 계산
  - 삼각파 함수를 통한 부드러운 밝기 전환
  - RGB 색상 값에 밝기 계수와 추가 색상을 적용하여 동적 색상 생성

**변경 파일**:
- `score_manager.py`: `is_combo_active()` 메서드 수정
  - 실시간으로 10초 초과 여부를 체크하여 자동 해제
- `ui.py`: `draw_info_panel()` 메서드에 `combo_active` 파라미터 추가 및 COMBO 텍스트 표시
- `game.py`: `draw()` 메서드의 뱀 렌더링 로직 수정
  - `score_manager.is_combo_active()` 체크 추가
  - Combo 활성화 시 강화된 펄스 효과 및 색상 변화 적용
  - UI 패널 호출 시 combo_active 상태 전달

**사용자 경험 개선**:
- Combo 상태를 상단 패널의 "COMBO!" 텍스트로 즉시 인지 가능
- 뱀의 강화된 반짝임 효과로 시각적 피드백 명확
- 10초 안에 먹이를 먹어야 한다는 긴박감 증대
- 게임의 시각적 완성도 및 피드백 향상

### 3. 문서화: Manual.md 추가 ✅
**목표**: 사용자와 개발자를 위한 종합 가이드 제공

**내용 구성**:
1. **게임 소개**: 프로젝트 개요 및 특징
2. **시스템 요구사항**: 필요한 소프트웨어 및 라이브러리
3. **설치 방법**: Conda 환경 기반 설치 가이드
4. **조작법**: 
   - 기본 조작 (방향키)
   - 게임 제어 (일시정지, 재시작, 종료)
   - 사운드 조작 (S, M 키)
5. **게임 규칙**:
   - 기본 규칙
   - Combo 시스템 설명
   - 난이도 상승 시스템
6. **화면 구성**: UI 요소별 설명
7. **팁과 전략**: 고득점을 위한 가이드
8. **문제 해결**: 일반적인 문제 해결 방법
9. **개발 정보**: 버전, 기술 스택 등

**특징**:
- Markdown 형식으로 작성하여 GitHub에서 바로 읽기 편리
- 초보자도 쉽게 이해할 수 있도록 상세한 설명 제공
- 이모지와 포맷팅을 활용한 가독성 향상

### 4. 버전 관리: VERSION 파일 추가 ✅
**내용**: `2.1`
**목적**: 명확한 버전 추적 및 관리

### 5. 개발 문서: version_2_1_plan.md 추가 ✅
**내용**: 본 문서
**목적**: Version 2.0 대비 변경사항 및 개선사항 기록

## 기술적 세부사항

### Pulsing Effect 알고리즘
```python
# 0.5초 주기로 0.0 ~ 1.0 사이를 왕복하는 펄스 값
pulse = abs(pygame.time.get_ticks() % 500 - 250) / 250.0

# 밝기 계수 (0.7 ~ 1.0)
brightness = 0.7 + 0.3 * pulse

# 기본 색상에 밝기 적용
color = tuple(int(c * brightness) for c in base_color)
```

### UI 레이아웃 (상단 패널)
```
[Score: X] [High: X] [Length: X] [Speed: X] [S:ON/OFF] [M:ON/OFF]
   10px      180px      360px       520px      650px       730px
```

## 테스트 체크리스트

### 기능 테스트
- [x] Sound/Music 상태가 상단 패널에 올바르게 표시됨
- [x] S/M 키로 상태 변경 시 실시간 업데이트
- [x] Combo 활성화 시 뱀이 반짝임
- [x] Combo 종료 시 정상 색상으로 복귀
- [x] 반짝이는 효과가 부드럽게 작동

### 문서 테스트
- [x] Manual.md의 모든 조작법이 정확함
- [x] 설치 가이드가 실제 환경에서 작동함
- [x] VERSION 파일이 올바른 버전 표시

## 향후 개선 아이디어 (Version 2.2+)

1. **파워업 아이템**:
   - 속도 감소 아이템
   - 일시적 무적 상태
   - 점수 2배 아이템

2. **레벨 시스템**:
   - 장애물 추가
   - 다양한 맵 구성

3. **멀티플레이어**:
   - 로컬 2인 플레이
   - 점수 경쟁 모드

4. **커스터마이징**:
   - 뱀 색상 선택
   - 테마 변경 (다크/라이트)

5. **리더보드**:
   - 온라인 순위표
   - 날짜별 기록

## 변경 이력

### Version 2.1 (2026-01-17)
- ✅ Sound/Music ON/OFF 상태 UI 표시 추가
- ✅ Combo 활성화 시 뱀 반짝이는 효과 구현
- ✅ Manual.md 게임 설명서 작성
- ✅ VERSION 파일 추가
- ✅ version_2_1_plan.md 문서 작성

### Version 2.0
- 점수 시스템 구현
- 속도 조절 시스템
- UI 개선 (정보 패널)
- 게임 제어 기능 (일시정지, 재시작)
- 사운드 효과 추가
- Combo 시스템 (점수 보너스만)

### Version 1.0
- 기본 뱀 게임 구현
- 이동, 먹이 섭취, 충돌 감지
